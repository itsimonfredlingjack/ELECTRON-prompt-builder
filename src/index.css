/* Soft Clay / Playful 3D theme */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html, body, #root {
    height: 100%;
    overflow: hidden;
    margin: 0;
    padding: 0;
  }

  html {
    @apply antialiased;
  }

  body {
    @apply font-body text-sm;
    background: #fff0f5;
    color: #4c3d5e;
  }

  #root {
    position: relative;
    z-index: 1;
  }

  /* Placeholder text - readable but secondary */
  ::placeholder {
    color: rgba(112, 93, 134, 0.65);
  }
}

@layer components {
  /* Clay cards: inflated, soft, tactile */
  .panel {
    background: linear-gradient(160deg, #ffeef6 0%, #ffe5f1 100%);
    border: 1px solid #e8d8e6;
    @apply shadow-line rounded-lg;
    @apply transition-all duration-300 ease-out-smooth;
  }

  .panel:hover {
    border-color: #ddbfd6;
    transform: translateY(-1px);
  }

  /* Accent glow on active/focus */
  .panel-glow:hover {
    box-shadow: inset 0 2px 4px rgba(255,255,255,0.55), inset 0 -3px 6px rgba(180,145,171,0.22), 0 14px 26px rgba(165,130,154,0.24);
  }

  .panel-glow:focus-visible,
  .panel-glow.active {
    border-color: rgba(178, 141, 255, 0.65);
    box-shadow: 0 0 0 3px rgba(178, 141, 255, 0.22), 0 14px 30px rgba(178, 141, 255, 0.24);
  }

  /* Clay buttons */
  .btn-primary {
    @apply relative font-medium transition-all duration-250 ease-out-expo;
    background: linear-gradient(165deg, #cfe7ff 0%, #cfe7ff 35%, #c6ddff 100%);
    border: 1px solid #b7cbe6;
    color: #4b3d5f;
    box-shadow: inset 0 2px 3px rgba(255,255,255,0.65), inset 0 -2px 5px rgba(114,142,177,0.2), 0 8px 16px rgba(130,147,179,0.25);
  }

  .btn-primary:hover:not(:disabled) {
    background: linear-gradient(165deg, #d9f0ff 0%, #cfe7ff 100%);
    border-color: #a9bbd8;
    transform: translateY(-1px);
    box-shadow: inset 0 2px 3px rgba(255,255,255,0.68), inset 0 -2px 5px rgba(114,142,177,0.22), 0 12px 22px rgba(130,147,179,0.28);
  }

  .btn-primary:active:not(:disabled) {
    transform: translateY(0) scale(0.985);
  }

  .btn-primary:disabled {
    @apply opacity-40 cursor-not-allowed;
  }

  .output-panel {
    background: linear-gradient(160deg, #fff0f7 0%, #ffe7f2 100%);
    border: 1px solid #e8d8e6;
    @apply shadow-line rounded-lg;
    @apply transition-colors duration-300;
  }

  .clay-node {
    @apply rounded-full shadow-clay-sm;
    background: linear-gradient(165deg, #ffe4f2 0%, #ffd9ed 100%);
    border: 1px solid #e3bdd4;
  }

  .clay-tube {
    height: 10px;
    border-radius: 9999px;
    background: linear-gradient(90deg, #cfe7ff 0%, #cfe7ff 50%, #c6f0df 100%);
    box-shadow: inset 0 2px 2px rgba(255,255,255,0.6), inset 0 -2px 3px rgba(132,150,174,0.2);
  }
}

@layer utilities {
  .section-label {
    @apply text-xs tracking-wide text-ghost;
  }

  .typing-cursor::after {
    content: 'â”‚';
    @apply text-accent animate-typing;
  }
  .output-fade-edges {
    mask-image: linear-gradient(to bottom, transparent 0%, black 6%, black 94%, transparent 100%);
    -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 6%, black 94%, transparent 100%);
  }
}

::-webkit-scrollbar {
  width: 4px;
  height: 4px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgba(112, 93, 134, 0.28);
  border-radius: 2px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(112, 93, 134, 0.4);
}

::selection {
  background: rgba(178, 141, 255, 0.35);
  color: #3c2e4d;
}

:focus-visible {
  outline: 2px solid rgba(178, 141, 255, 0.55);
  outline-offset: 2px;
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
